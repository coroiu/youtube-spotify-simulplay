{"id":"youtube-spotify-simulplay-2is","title":"HTML app shell","description":"Create public/index.html as the single-page app shell. Include script tags for YouTube IFrame API (https://www.youtube.com/iframe_api) and Spotify Web Playback SDK (https://sdk.scdn.co/spotify-player.js). Load public/bundle.js. DOM structure: #connect-btn (Connect Spotify), #spotify-input (track URI/URL), #youtube-input (video ID/URL), #youtube-container (IFrame player mounts here), transport controls (#play-btn, #pause-btn), #status display.","status":"open","priority":1,"issue_type":"task","owner":"andreas.coroiu@gmail.com","created_at":"2026-02-19T09:46:16Z","created_by":"Andreas Coroiu","updated_at":"2026-02-19T09:46:16Z","dependencies":[{"issue_id":"youtube-spotify-simulplay-2is","depends_on_id":"youtube-spotify-simulplay-5m0","type":"blocks","created_at":"2026-02-19T10:46:54Z","created_by":"Andreas Coroiu","metadata":"{}"}]}
{"id":"youtube-spotify-simulplay-3zs","title":"Sync controller","description":"Implement src/client/sync-controller.ts. SyncController class takes YouTubePlayer + SpotifyPlayer instances. Sync loop: setInterval every 500ms, compare timestamps from both players, if |ytTime - spTime| \u003e 1.5s seek the lagging player to match. Play/pause sync: when one player emits a state change, apply same state to the other. Leader strategy: the player the user most recently interacted with is the leader (the other follows). Expose: play(), pause(), seekTo(seconds).","status":"open","priority":2,"issue_type":"feature","owner":"andreas.coroiu@gmail.com","created_at":"2026-02-19T09:46:07Z","created_by":"Andreas Coroiu","updated_at":"2026-02-19T09:46:07Z","dependencies":[{"issue_id":"youtube-spotify-simulplay-3zs","depends_on_id":"youtube-spotify-simulplay-84d","type":"blocks","created_at":"2026-02-19T10:46:55Z","created_by":"Andreas Coroiu","metadata":"{}"},{"issue_id":"youtube-spotify-simulplay-3zs","depends_on_id":"youtube-spotify-simulplay-qqh","type":"blocks","created_at":"2026-02-19T10:46:55Z","created_by":"Andreas Coroiu","metadata":"{}"}]}
{"id":"youtube-spotify-simulplay-5m0","title":"Project initialization","description":"Initialize package.json with npm init -y. Create tsconfig.json (server, targets src/server, commonjs), tsconfig.client.json (client, targets src/client, ESNext+DOM). Create .env.example with SPOTIFY_CLIENT_ID, SPOTIFY_CLIENT_SECRET, SPOTIFY_REDIRECT_URI, SESSION_SECRET, PORT. Create .gitignore (node_modules, dist, .env, public/bundle.js).","status":"open","priority":1,"issue_type":"task","owner":"andreas.coroiu@gmail.com","created_at":"2026-02-19T09:46:02Z","created_by":"Andreas Coroiu","updated_at":"2026-02-19T09:46:02Z"}
{"id":"youtube-spotify-simulplay-84d","title":"YouTube player wrapper","description":"Implement src/client/youtube-player.ts. Wrap YT.Player (YouTube IFrame API, loaded via script tag). Expose a clean interface: load(videoId: string), play(), pause(), seekTo(seconds: number), getCurrentTime(): number, getDuration(): number, getState(): 'playing'|'paused'|'unstarted'. Handle the YT.PlayerState constants. Fire callbacks on state changes so sync-controller can react.","status":"open","priority":2,"issue_type":"feature","owner":"andreas.coroiu@gmail.com","created_at":"2026-02-19T09:46:02Z","created_by":"Andreas Coroiu","updated_at":"2026-02-19T09:46:02Z","dependencies":[{"issue_id":"youtube-spotify-simulplay-84d","depends_on_id":"youtube-spotify-simulplay-2is","type":"blocks","created_at":"2026-02-19T10:46:55Z","created_by":"Andreas Coroiu","metadata":"{}"}]}
{"id":"youtube-spotify-simulplay-bzi","title":"Express server with Spotify OAuth","description":"Implement src/server/auth.ts with routes: GET /auth/login (redirect to Spotify authorize, scopes: streaming user-read-playback-state user-modify-playback-state), GET /auth/callback (exchange code for tokens, store in session, redirect to /), GET /auth/token (return access_token JSON to frontend), GET /auth/refresh (refresh token using session refresh_token). Implement src/server/index.ts: Express app, cookie-session middleware, CORS, JSON body parser, mount auth router at /auth, serve public/ as static files, GET * -\u003e serve public/index.html.","status":"open","priority":1,"issue_type":"feature","owner":"andreas.coroiu@gmail.com","created_at":"2026-02-19T09:46:12Z","created_by":"Andreas Coroiu","updated_at":"2026-02-19T09:46:12Z","dependencies":[{"issue_id":"youtube-spotify-simulplay-bzi","depends_on_id":"youtube-spotify-simulplay-zs7","type":"blocks","created_at":"2026-02-19T10:46:54Z","created_by":"Andreas Coroiu","metadata":"{}"}]}
{"id":"youtube-spotify-simulplay-qcy","title":"Client entry point","description":"Implement src/client/index.ts. On load: fetch GET /auth/token; if no token show #connect-btn linking to /auth/login; if token hide connect button and initialize both players. Initialize YouTubePlayer with #youtube-container div. Initialize SpotifyPlayer with access token. Create SyncController with both players. Wire #play-btn -\u003e controller.play(), #pause-btn -\u003e controller.pause(). Parse YouTube video ID from URL or raw ID input. Parse Spotify track URI from URL or raw URI input. Update #status with current sync state.","status":"open","priority":2,"issue_type":"feature","owner":"andreas.coroiu@gmail.com","created_at":"2026-02-19T09:46:11Z","created_by":"Andreas Coroiu","updated_at":"2026-02-19T09:46:11Z","dependencies":[{"issue_id":"youtube-spotify-simulplay-qcy","depends_on_id":"youtube-spotify-simulplay-3zs","type":"blocks","created_at":"2026-02-19T10:46:56Z","created_by":"Andreas Coroiu","metadata":"{}"}]}
{"id":"youtube-spotify-simulplay-qqh","title":"Spotify player wrapper","description":"Implement src/client/spotify-player.ts. Wrap Spotify.Player (Web Playback SDK, loaded via script tag). Fetch access token from GET /auth/token. Expose same interface as YouTubePlayer: load(trackUri: string), play(), pause(), seekTo(positionMs: number), getCurrentTime(): number, getDuration(): number, getState(): 'playing'|'paused'|'unstarted'. Handle SDK ready/not_ready events and player_state_changed events. Fire callbacks on state changes.","status":"open","priority":2,"issue_type":"feature","owner":"andreas.coroiu@gmail.com","created_at":"2026-02-19T09:46:04Z","created_by":"Andreas Coroiu","updated_at":"2026-02-19T09:46:04Z","dependencies":[{"issue_id":"youtube-spotify-simulplay-qqh","depends_on_id":"youtube-spotify-simulplay-2is","type":"blocks","created_at":"2026-02-19T10:46:55Z","created_by":"Andreas Coroiu","metadata":"{}"},{"issue_id":"youtube-spotify-simulplay-qqh","depends_on_id":"youtube-spotify-simulplay-bzi","type":"blocks","created_at":"2026-02-19T10:46:55Z","created_by":"Andreas Coroiu","metadata":"{}"}]}
{"id":"youtube-spotify-simulplay-udo","title":"Build tooling setup","description":"Create scripts/build-client.js that uses esbuild to bundle src/client/index.ts -\u003e public/bundle.js (with watch mode support via --watch flag). Update package.json scripts: dev (concurrently tsx watch server + build-client watch), build (tsc + build-client), start (node dist/server/index.js).","status":"open","priority":1,"issue_type":"task","owner":"andreas.coroiu@gmail.com","created_at":"2026-02-19T09:46:06Z","created_by":"Andreas Coroiu","updated_at":"2026-02-19T09:46:06Z","dependencies":[{"issue_id":"youtube-spotify-simulplay-udo","depends_on_id":"youtube-spotify-simulplay-zs7","type":"blocks","created_at":"2026-02-19T10:46:54Z","created_by":"Andreas Coroiu","metadata":"{}"}]}
{"id":"youtube-spotify-simulplay-zs7","title":"Install dependencies","description":"Install runtime deps: express dotenv cors cookie-session. Install dev deps: typescript tsx esbuild concurrently @types/node @types/express @types/cors @types/cookie-session.","status":"open","priority":1,"issue_type":"task","owner":"andreas.coroiu@gmail.com","created_at":"2026-02-19T09:46:04Z","created_by":"Andreas Coroiu","updated_at":"2026-02-19T09:46:04Z","dependencies":[{"issue_id":"youtube-spotify-simulplay-zs7","depends_on_id":"youtube-spotify-simulplay-5m0","type":"blocks","created_at":"2026-02-19T10:46:54Z","created_by":"Andreas Coroiu","metadata":"{}"}]}
